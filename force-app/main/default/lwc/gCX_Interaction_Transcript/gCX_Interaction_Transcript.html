<template>
  <lightning-card>
    <div class="slds-clearfix">
      <div class="slds-float_right">
        <lightning-badge if:true={sentiment.visible} class={sentiment.theme} label={sentiment.sentiment} icon-name={sentiment.icon}></lightning-badge>
      </div>
    </div>
  
    <section role="log" class="slds-chat slds-scrollable" style="max-height: 20rem;">
      <ul class="slds-chat-list">
        <template for:each={utterances} for:item="utterance">

          <li key={utterance.id} if:true={utterance.isInternal} class="slds-chat-listitem slds-chat-listitem_inbound">
            <div class="slds-chat-message">
              <div class="slds-chat-message__body">
                <div class="slds-chat-message__text slds-chat-message__text_inbound">
                  <span >{utterance.transcript}</span>
                </div>
                <div class="slds-chat-message__meta">
                  {utterance.party} • <lightning-formatted-date-time value={utterance.eventTime} hour="numeric" minute="2-digit"></lightning-formatted-date-time>
                </div>
              </div>
            </div>
          </li>

          <li key={utterance.id} if:false={utterance.isInternal} class="slds-chat-listitem slds-chat-listitem_outbound">
            <div class="slds-chat-message">
              <div class="slds-chat-message__body">
                <div class="slds-chat-message__text slds-chat-message__text_outbound">
                  <span >{utterance.transcript}</span>
                </div>
                <div class="slds-chat-message__meta">
                  {utterance.party} • <lightning-formatted-date-time value={utterance.eventTime} hour="numeric" minute="2-digit"></lightning-formatted-date-time>
                </div>
              </div>
            </div>
          </li>

        </template>

      </ul>
    </section>
  </lightning-card>
</template>